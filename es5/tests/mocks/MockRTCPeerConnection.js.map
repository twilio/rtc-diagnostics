{"version":3,"file":"MockRTCPeerConnection.js","sourceRoot":"","sources":["../../../tests/mocks/MockRTCPeerConnection.ts"],"names":[],"mappings":";AAAA,0BAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE1B,2DAG8B;AAEjB,QAAA,4BAA4B,GAAG,UAC1C,OAEC;IAFD,wBAAA,EAAA;QACE,SAAS,EAAE,MAAM;KAClB;IAED,IAAM,kBAAkB,GACtB,8CAAyB,CAAC,OAAO,CAAC,gCAAgC,CAAC,CAAC;IACtE;QAAO;YAYL,kBAAa,GAA6B,cAAO,CAAC,CAAC;YACnD,mBAAc,GAA6B,cAAO,CAAC,CAAC;QAMtD,CAAC;QAlBC,iCAAe,GAAf,cAAmB,CAAC;QACpB,uBAAK,GAAL,cAAS,CAAC;QACJ,8BAAY,GAAlB;;;;SAAuB;QACvB,mCAAiB,GAAjB;YACE,OAAO,IAAI,kBAAkB,EAAE,CAAC;QAClC,CAAC;QACK,6BAAW,GAAjB;;;;oBACE,UAAI,OAAO,CAAC,OAAO,0CAAE,WAAW,EAAE;wBAChC,MAAM,IAAI,KAAK,EAAE,CAAC;qBACnB;;;;SACF;QAGK,qCAAmB,GAAzB;;;;SAA8B;QACxB,sCAAoB,GAA1B;;;oBACE,IAAI,CAAC,aAAa,CAAC,EAAE,OAAO,EAAE,IAAI,kBAAkB,EAAE,EAAE,CAAC,CAAC;oBAC1D,IAAI,CAAC,cAAc,CAAC,EAAE,SAAS,EAAE,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;;;;SACvD;QACH,cAAC;IAAD,CAAC,AAnBM,IAmBL;AACJ,CAAC,CAAC","sourcesContent":["// tslint:disable no-empty\n\nimport {\n  MockRTCDataChannel,\n  mockRTCDataChannelFactory,\n} from './MockRTCDataChannel';\n\nexport const mockRTCPeerConnectionFactory = (\n  options: MockRTCPeerConnection.Options = {\n    candidate: 'test',\n  },\n) => {\n  const mockRTCDataChannel =\n    mockRTCDataChannelFactory(options.mockRTCDataChannelFactoryOptions);\n  return class {\n    addIceCandidate() {}\n    close() {}\n    async createAnswer() {}\n    createDataChannel() {\n      return new mockRTCDataChannel();\n    }\n    async createOffer() {\n      if (options.doThrow?.createOffer) {\n        throw new Error();\n      }\n    }\n    ondatachannel: (...args: any[]) => void = () => {};\n    onicecandidate: (...args: any[]) => void = () => {};\n    async setLocalDescription() {}\n    async setRemoteDescription() {\n      this.ondatachannel({ channel: new mockRTCDataChannel() });\n      this.onicecandidate({ candidate: options.candidate });\n    }\n  };\n};\n\nexport namespace MockRTCPeerConnection {\n  export interface Options {\n    candidate?: any;\n    doThrow?: {\n      createOffer?: boolean;\n    };\n    mockRTCDataChannelFactoryOptions?: MockRTCDataChannel.Options;\n  }\n}\n"]}